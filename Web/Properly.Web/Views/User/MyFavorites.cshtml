@model Properly.Web.ViewModels.Listing.FavoritesViewModel
@{
    this.ViewData["Title"] = "My Favorites";
}

<section class="flat-title-page style-2" style="padding: 42px 0px 42px;">
    <div class="container">
        <ul class="breadcrumb">
            <li><a asp-controller="User" asp-action="Dashboard">Dashboard</a></li>
            <li>/ My Favorites</li>
        </ul>
        <h2 class="text-center">My Favorites</h2>
    </div>
</section>

@* ToDO : Display User Favorites *@

<section class="flat-section-v5 flat-recommended flat-recommended-v2">
    <div class="container">
        <div class="tab-content">
            <div class="tab-pane fade active show" id="gridLayout" role="tabpanel">
                <div class="row">
                    @foreach (var listing in Model.FavoriteListings)
                    {
                        <div class="col-xl-4 col-lg-6 col-md-6">
                            <div class="homeya-box">
                                <div class="archive-top">
                                    <a asp-controller="Listing" asp-action="Id" asp-route-id="@listing.Id" class="images-group">
                                        <div class="images-style">
                                            <img src="@listing.Photos.FirstOrDefault()" alt="img">
                                        </div>
                                        <div class="top">
                                            <ul class="d-flex gap-8">

                                                <li class="flag-tag style-1">@listing.ListingStatus</li>
                                            </ul>
                                            <ul class="d-flex gap-4">

                                                <li class="box-icon w-32">
                                                    <i class="fa-regular fa-heart favorite-icon" data-listing-id="@listing.Id" style="color: #fd1c32;"></i>
                                                </li>

                                            </ul>
                                        </div>
                                        <div class="bottom">
                                            <span class="flag-tag style-2">@listing.PropertyTypeName</span>
                                        </div>
                                    </a>
                                    <div class="content">
                                        <div class="desc"><i class="fs-16 icon icon-mapPin"></i>
                                            <p>@listing.FullAddress</p> </div>
                                        <ul class="meta-list">
                                            <li class="item">
                                                <i class="icon icon-bed"></i>
                                                <span>@listing.Bedrooms</span>
                                            </li>
                                            <li class="item">
                                                <i class="icon icon-bathtub"></i>
                                                <span>@listing.Bathrooms</span>
                                            </li>
                                            <li class="item">
                                                <i class="icon icon-ruler"></i>
                                                <span>@listing.Size</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="archive-bottom d-flex justify-content-between align-items-center">
                                    <div class="d-flex gap-8 align-items-center">

                                        <span>@listing.CreatorName</span>
                                    </div>
                                    <div class="d-flex align-items-center">
                                        <h6>@listing.Price.ToString("C0")</h6>
                                        @if (listing.ListingType == "For Rent")
                                        {
                                            <span class="text-variant-1">/mo.</span>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>

        </div>
    </div>
</section>

@section Scripts
{
    <script type="module" src="~/js/listingFavouriteHandelr.js" asp-append-version="true"></script>
}
